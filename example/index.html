<!-- Copyright (C) 2015 CERN.

  Invenio is free software; you can redistribute it
  and/or modify it under the terms of the GNU General Public License as
  published by the Free Software Foundation; either version 2 of the
  License, or (at your option) any later version.

  Invenio is distributed in the hope that it will be
  useful, but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with Invenio; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston,
  MA 02111-1307, USA.

  In applying this license, CERN does not
  waive the privileges and immunities granted to it by virtue of its status
  as an Intergovernmental Organization or submit itself to any jurisdiction.
-->
<html>
  <head>
    <script src="./node_modules/angular/angular.js"></script>
    <script src="./lib/invenio-search-js.js"></script>
    <link href="./node_modules/bootstrap/dist/css/bootstrap.css" rel="stylesheet"/>
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h1 class="legend">Invenio Search Demo</h1>
          <hr />
          <div ng-app="invenioSearchJs">
            <div ng-controller="invenioSearchController as searching">
              Page we are: {{searching.invenioSearchArgs.params.page}}
               <!-- Searchbar -->
                <div invenio-search-bar
                    invenio-search-query="searching.invenioSearchQuery"
                    invenio-search-args="searching.invenioSearchArgs"
                    invenio-search-do="searching.invenioDoSearch(query)"
                    search-doctype=""
                    search-method="GET"
                    search-endpoint="http://localhost:9200/_search"
                    search-extra-params='{"hello":"a"}'
                    search-index='demo'
                    search-page="1"
                    search-size="2"
                    search-bar-template="/lib/templates/invenioSearchBar.html"
                    search-bar-input-placeholder="Type something"
                ></div>
                <div invenio-search-results-count
                  invenio-search-items="searching.invenioResults"
                  search-count-template="/lib/templates/invenioSearchResultsCount.html"
                ></div>
                <!-- Loading -->
                <div invenio-search-results-loading
                    invenio-search-loading="searching.invenioSearchLoading"
                    search-loading-template="/lib/templates/invenioSearchLoading.html"
                    search-loading-message="Loading......"
                ></div>
                <!-- Search results-->
                <div invenio-search-results
                  invenio-search-items="searching.invenioResults"
                  search-results-template="/lib/templates/invenioSearchResults.html"
                  search-results-record-template="/lib/templates/invenioSearchResultsRecord.html"
                ></div>
                <!-- Search pagination -->
                <div invenio-search-results-pagination
                  invenio-search-items="searching.invenioResults"
                  invenio-search-args="searching.invenioSearchArgs"
                  invenio-search-do="searching.invenioDoSearch(query)"
                  search-pagination-template="/lib/templates/invenioSearchResultsPagination.html"
                ></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
